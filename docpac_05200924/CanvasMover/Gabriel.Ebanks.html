<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Mover</title>
</head>


<body>
    <style>
        #canvas {
            height: 600px;
            width: 800px;
            border-style: solid;
            border-color: blueviolet;
        }
    </style>
    <canvas id="canvas">

    </canvas>
    <script>

    var player = {
        x : 100,
        y  : 100,
        w  : 20,
        h  : 20,
        img  : new Image()
    }
        

    player.img.src = "./blackguy.jpg"


    window.addEventListener('gamepadconnected',(e) => {
        function movement() {
            var gamepad = navigator.getGamepads()[0]
            if(gamepad.axes[0] < -0.1) {
                console.log(1)
            } 
            if (gamepad.axes[0] > 0.1) {
                console.log(3)
            } 
            if (gamepad.axes[1] > 0.1) {
                console.log(4)
            }
            if (gamepad.axes[1] < -0.1) {
                console.log(2)
            }

            requestAnimationFrame(movement) 

        }
        movement()
    })
    
        // const charSpeed = 10
        // const canvas = document.getElementById('canvas');
        // const ctx = canvas.getContext("2d");


        //         const gamepad = navigator.getGamepads();
        //         const stickX = gamepad.axes[0];
        //         const stickY = gamepad.axes[1];

        
        
        
        
        
        //         function drawSprite() {

        //     ctx.fillStyle = 'white';
        //     ctx.clearRect(0, 0, canvas.width, canvas.height)
        //     ctx.font = "30px serif";
        //     ctx.fillText("Gamepad", 10, 30);
        //     ctx.fillText(`X: ${player.x.toFixed(2)}, Y: ${player.y.toFixed(2)}`, 10, 40)
        //     ctx.drawImage(player.img, player.x, player.y, player.w, player.h);
        //     console.log('sprite draw')


        // }




        




        
        
        
        // window.addEventListener('gamepadconnected', (event) => {
        //     console.log('Gamepad connected:', event.gamepad);
        //     function movement() {
        //         console.log(navigator.getGamepads())

    
        //         if (gamepad[0]) {
        //             player.x += stickX * charSpeed * 2;
        //             player.y += stickY * charSpeed * 2;
    
    
    
        //             if (player.x < 0)
        //                 player.x = 0;
    
    
        //             if (player.y < 0)
        //                 player.y = 0;
    
    
        //             if (player.x + player.w > canvas.width)
        //                 player.x = canvas.width - player.w;
    
    
        //             if (player.y + player.h > canvas.height)
        //                 player.y = canvas.height - player.h;
    
        //             drawSprite()
        //         }
        //         requestAnimationFrame(movement)
        //     }

        //     movement();
        // });

        // player.img.onload = function () {
        //     drawSprite();
        // };




    </script>
</body>

</html>

